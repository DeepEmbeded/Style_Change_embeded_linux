---
YOLO检测框的触摸事件
---

# 一、需求

当YOLO将框绘制在原始图后，我们需要再基础上增加一个跟踪功能。

假如此时结果图中，有3个被框住的人，但是我们需要跟踪 ID2 的人：

- 启用触摸交互事件
  - QGraphicsView 中启用触摸事件
  - 重写触摸事件处理 QGraphicsScene
  - 遍历检测框，查找被触摸的检测框，并取消之前选中的框
  - 选中当前框，并将当前框的颜色标红，打印中心坐标（定时打印）
- 将中心坐标通过 Uart 串口发送到 STM32，让其计算相邻时间的坐标距离，从而换算出云台旋转角度。





# 二、写法

- 原本的检测结果、绘制图不用更改。
- 触摸事件这块，写一个类 YoloScene 继承 QGraphicsScene，然后重写 event
- event里头就是遍历检测框，看哪个框被摸了，selected_index
- 单独写个高亮框的函数
  - 输入原图，重新绘制框即可，用的 Box 坐标是 box[selected_index] 的.
  - 被摸的框 selected_index，cv::Scalar(0, 0, 255, 255)，这是红色。

